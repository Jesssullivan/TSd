{"version":3,"file":"hooks.server-Dl35dy4w.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import { r as redirect } from \"./index2.js\";\nconst handle = async ({ event, resolve }) => {\n  if (event.url.pathname === \"/\") {\n    throw redirect(302, \"/en/tsd-demo\");\n  }\n  const localeOnlyMatch = event.url.pathname.match(/^\\/([a-z]{2})\\/?$/);\n  if (localeOnlyMatch) {\n    const locale = localeOnlyMatch[1];\n    throw redirect(302, `/${locale}/tsd-demo`);\n  }\n  return resolve(event, {\n    transformPageChunk: ({ html }) => {\n      const locale = event.params.locale || \"en\";\n      let modifiedHtml = html.replace(/%tsd\\.lang%/g, locale);\n      if (process.env.NODE_ENV === \"production\" && process.env.VITE_ENVOY_ENDPOINT) {\n        const configScript = `<script>window.__TSD_CONFIG__ = { envoy: { endpoint: \"${process.env.VITE_ENVOY_ENDPOINT}\" } };<\\/script>`;\n        modifiedHtml = modifiedHtml.replace(\"</head>\", `${configScript}</head>`);\n      }\n      return modifiedHtml;\n    }\n  });\n};\nexport {\n  handle\n};\n"],"names":[],"mappings":";;AACK,MAAC,MAAM,GAAG,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK;AAC7C,EAAE,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,KAAK,GAAG,EAAE;AAClC,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,cAAc,CAAC;AACvC;AACA,EAAE,MAAM,eAAe,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,mBAAmB,CAAC;AACvE,EAAE,IAAI,eAAe,EAAE;AACvB,IAAI,MAAM,MAAM,GAAG,eAAe,CAAC,CAAC,CAAC;AACrC,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9C;AACA,EAAE,OAAO,OAAO,CAAC,KAAK,EAAE;AACxB,IAAI,kBAAkB,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK;AACtC,MAAM,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI;AAChD,MAAM,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC;AAC7D,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE;AACpF,QAAQ,MAAM,YAAY,GAAG,CAAC,sDAAsD,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,gBAAgB,CAAC;AACvI,QAAQ,YAAY,GAAG,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;AAChF;AACA,MAAM,OAAO,YAAY;AACzB;AACA,GAAG,CAAC;AACJ;;;;"}